app.modals.CreateOrEditWebhookSubscriptionModal=function(){var e,a=abp.services.app.webhookSubscription,i=new KeyValueListManager;this.init=function(a){var t,o;(e=a).getModal().find("#Webhooks").select2(),t=Object.keys(createOrEditHeaders),o=[],createOrEditHeaders&&t.length>0&&(o=t.map(e=>({key:e,value:createOrEditHeaders[e]}))),i.init({containerId:"additional-header-list",name:"openIdConnectClaimsMappings",keyName:"HeaderKey",valueName:"HeaderValue",items:o})},this.save=function(){var t={};i.getValues().forEach(e=>{t[e.key]=e.value});var o={id:e.getModal().find("input[name=Id]").val(),webhookUri:e.getModal().find("#webhookEndpointURL").val(),webhooks:e.getModal().find("#Webhooks").val(),headers:t};e.setBusy(!0),createOrEditIsEdit?a.updateSubscription(o).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close(),abp.event.trigger("app.createOrEditWebhookSubscriptionModalSaved")}).always(function(){e.setBusy(!1)}):a.addSubscription(o).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close(),abp.event.trigger("app.createOrEditWebhookSubscriptionModalSaved")}).always(function(){e.setBusy(!1)})}};