jQuery,app.modals.CreateOrEditLanguageModal=function(){var a,e=abp.services.app.language,n=null;this.init=function(e){(a=e).getModal().find("#LanguageNameEdit").selectpicker({iconBase:"fa",tickIcon:"fa fa-check"}),a.getModal().find("#LanguageIconEdit").selectpicker({iconBase:"famfamfam-flag",tickIcon:"fa fa-check"}),n=a.getModal().find("form[name=LanguageInformationsForm]")},this.save=function(){var i=n.serializeFormToObject();a.setBusy(!0),e.createOrUpdateLanguage({language:i}).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),a.close(),abp.event.trigger("app.createOrEditLanguageModalSaved")}).always(function(){a.setBusy(!1)})}};
$(function(){var a=$("#LanguagesTable"),e=abp.services.app.language,n={create:abp.auth.hasPermission("Pages.Administration.Languages.Create"),edit:abp.auth.hasPermission("Pages.Administration.Languages.Edit"),changeTexts:abp.auth.hasPermission("Pages.Administration.Languages.ChangeTexts"),delete:abp.auth.hasPermission("Pages.Administration.Languages.Delete")},t=new app.ModalManager({viewUrl:abp.appPath+"App/Languages/CreateOrEditModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Languages/_CreateOrEditModal.js",modalClass:"CreateOrEditLanguageModal"}),s=a.DataTable({paging:!1,serverSide:!1,processing:!1,listAction:{ajaxFunction:e.getLanguages},columnDefs:[{className:"control responsive",orderable:!1,render:function(){return""},targets:0},{targets:1,data:null,orderable:!1,autoWidth:!1,defaultContent:"",rowAction:{text:'<i class="fa fa-cog"></i> <span class="d-none d-md-inline-block d-lg-inline-block d-xl-inline-block">'+app.localize("Actions")+'</span> <span class="caret"></span>',items:[{text:app.localize("Edit"),visible:function(a){return n.edit&&a.record.tenantId===abp.session.tenantId},action:function(a){t.open({id:a.record.id})}},{text:app.localize("ChangeTexts"),visible:function(){return n.changeTexts},action:function(a){document.location.href=abp.appPath+"App/Languages/Texts?languageName="+a.record.name}},{text:app.localize("SetAsDefaultLanguage"),visible:function(){return n.edit},action:function(a){var n;n=a.record,e.setDefaultLanguage({name:n.name}).done(function(){i(),abp.notify.success(app.localize("SuccessfullySaved"))})}},{text:app.localize("Delete"),visible:function(a){return n.delete&&a.record.tenantId===abp.session.tenantId},action:function(a){var n;n=a.record,abp.message.confirm(app.localize("LanguageDeleteWarningMessage",n.displayName),app.localize("AreYouSure"),function(a){a&&e.deleteLanguage({id:n.id}).done(function(){i(),abp.notify.success(app.localize("SuccessfullyDeleted"))})})}}]}},{targets:2,data:"displayName",render:function(a,e,n,t){var s=$("<span/>").append($("<i/>").addClass(n.icon).css("margin-right","5px")).append($("<span/>").attr("data-language-name",n.name).text(n.displayName));return t.settings.rawServerResponse.defaultLanguageName===n.name&&s.addClass("text-bold").append(" ("+app.localize("Default")+")"),s[0].outerHTML}},{targets:3,data:"name"},{targets:4,data:"tenantId",visible:!!abp.session.tenantId,render:function(a,e,n,t){var s=$("<span/>").addClass("label");return t.settings.rawServerResponse.defaultLanguageName===n.name?s.addClass("label label-success label-inline").text(app.localize("Yes")):s.addClass("label label-dark label-inline").text(app.localize("No")),s[0].outerHTML}},{targets:5,data:"isDisabled",render:function(a){var e=!a,n=$("<span/>").addClass("label");return e?n.addClass("label label-success label-inline").text(app.localize("Yes")):n.addClass("label label-dark label-inline").text(app.localize("No")),n[0].outerHTML}},{targets:6,data:"creationTime",render:function(a){return moment(a).format("L")}}]});function i(){s.ajax.reload()}$("#CreateNewLanguageButton").click(function(){t.open()}),abp.event.on("app.createOrEditLanguageModalSaved",function(){i()})});