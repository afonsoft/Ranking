
var app=app||{};jQuery,app.UserNotificationHelper=function(){var t=abp.services.app.notification;function i(t){switch(t.notification.notificationName){case"App.NewUserRegistered":return"/App/users?filterText="+t.notification.data.properties.emailAddress;case"App.NewTenantRegistered":return"/App/tenants?filterText="+t.notification.data.properties.tenancyName;case"App.GdprDataPrepared":return"/File/DownloadBinaryFile?id="+t.notification.data.properties.binaryObjectId+"&contentType=application/zip&fileName=collectedData.zip";case"App.DownloadInvalidImportUsers":return"/File/DownloadTempFile?fileToken="+t.notification.data.properties.fileToken+"&fileType="+t.notification.data.properties.fileType+"&fileName="+t.notification.data.properties.fileName}return"#"}var e=function(t,e){var o={userNotificationId:t.id,text:abp.notifications.getFormattedMessageFromUserNotification(t),time:moment(t.notification.creationTime).format("YYYY-MM-DD HH:mm:ss"),icon:app.notification.getUiIconBySeverity(t.notification.severity),state:abp.notifications.getUserNotificationStateAsString(t.state),data:t.notification.data,url:i(t),isUnread:t.state===abp.notifications.userNotificationState.UNREAD,timeAgo:moment(t.notification.creationTime).fromNow(),iconFontClass:app.notification.getIconFontClassBySeverity(t.notification.severity)};return(e||void 0===e)&&(o.text=abp.utils.truncateStringWithPostfix(o.text,50)),o};return{format:e,show:function(t){abp.notifications.showUiNotifyForUserNotification(t,{onclick:function(){var e=i(t);e&&(location.href=e)}}),Push.create("Ranking",{body:e(t).text,icon:abp.appPath+"Common/Images/app-logo-small.svg",timeout:6e3,onClick:function(){window.focus(),this.close()}})},setAllAsRead:function(i){t.setAllNotificationsAsRead().done(function(){abp.event.trigger("app.notifications.refresh"),i&&i()})},setAsRead:function(i,e){t.setNotificationAsRead({id:i}).done(function(){abp.event.trigger("app.notifications.read",i),e&&e(i)})},openSettingsModal:function(){new app.ModalManager({viewUrl:abp.appPath+"App/Notifications/SettingsModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Notifications/_SettingsModal.js",modalClass:"NotificationSettingsModal"}).open()}}};
var app=app||{};app.chat=app.chat||{},app.chat.side={sender:1,receiver:2},app.chat.readState={unread:1,read:2},app.chat.sendMessage=function(){console.log(arguments)};
var app=app||{};$.extend(app,{consts:{maxProfilPictureBytesUserFriendlyValue:5,grid:{defaultPageSize:10,defaultPageSizes:[10,20,50,100]},userManagement:{defaultAdminUserName:"admin"},contentTypes:{formUrlencoded:"application/x-www-form-urlencoded; charset=UTF-8"},friendshipState:{accepted:1,blocked:2}}});
window.addEventListener("load",function(){abp.setting.getBoolean("App.UserManagement.IsCookieConsentEnabled")&&window.cookieconsent.initialise({showLink:!1,content:{message:app.localize("CookieConsent_Message"),dismiss:app.localize("CookieConsent_Dismiss")}})});
!function(n){if(n.fn.dataTableExt){n.fn.dataTable&&(n.extend(!0,n.fn.dataTable.defaults,{ajax:function(t,a,o){o&&o.oInit&&o.oInit.listAction&&(abp.ui.setBusy(o.nTable),function(t,a,o,e){var i={};if(t.inputFilter&&(i=n.extend(i,t.inputFilter())),e.oInit.paging&&(i=n.extend(i,{maxResultCount:a.length,skipCount:a.start})),a.order&&a.order.length>0){i.sorting||(i.sorting="");for(var l=0;l<a.order.length;l++){var r=a.order[l];l>0&&(i.sorting+=","),a.columns[r.column].name?i.sorting+=a.columns[r.column].name+" "+r.dir:a.columns[r.column].data&&(i.sorting+=a.columns[r.column].data+" "+r.dir)}}t.ajaxFunction&&t.ajaxFunction(i).done(function(n){var a;e.rawServerResponse=n,a=t.disableResponseHtmlEncoding?n.items:app.htmlUtils.htmlEncodeJson(n.items),o({recordsTotal:n.totalCount,recordsFiltered:n.totalCount,data:a})}).always(function(){abp.ui.clearBusy(e.nTable)})}(o.oInit.listAction,t,a,o))}}),n.fn.dataTable.Api.register("ajax.reloadPage()",function(){this.ajax.reload(null,!1)}))}}(jQuery);
!function(a){if(a.fn.dataTable){a.extend(!0,a.fn.dataTable.defaults,{dom:"<'row'<'col-md-6 col-sm-6'l><'col-md-6 col-sm-6'f>r><'table-scrollable't><'row'<'col-md-5 col-sm-5'i><'col-md-7 col-sm-7'p>>",language:{lengthMenu:" _MENU_ records ",paginate:{previous:"Prev",next:"Next",page:"Page",pageOf:"of"}},pagingType:"bootstrap_number"}),a.extend(a.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper",sFilterInput:"form-control form-control-sm",sLengthSelect:"form-control form-control-sm"}),a.fn.dataTable.ext.classes.sPageButton="paginate_button",a.fn.dataTable.defaults.renderer="bootstrap",a.fn.dataTable.ext.renderer.pageButton.bootstrap=function(e,i,t,n,l,s){var o,g,r=new a.fn.dataTable.Api(e),p=e.oClasses,d=e.oLanguage.oPaginate,f=function(i,n){var c,b,u,h,P=function(a){a.preventDefault(),"ellipsis"!==a.data.action&&r.page(a.data.action).draw(!1)};for(c=0,b=n.length;c<b;c++)if(h=n[c],a.isArray(h))f(i,h);else{switch(o="",g="",h){case"ellipsis":o="&hellip;",g="disabled";break;case"first":o=d.sFirst,g=h+(l>0?"":" disabled");break;case"previous":o=d.sPrevious,g=h+(l>0?"":" disabled");break;case"next":o=d.sNext,g=h+(l<s-1?"":" disabled");break;case"last":o=d.sLast,g=h+(l<s-1?"":" disabled");break;default:o=h+1,g=l===h?"active":""}o&&(u=a("<li>",{class:p.sPageButton+" "+g,"aria-controls":e.sTableId,tabindex:e.iTabIndex,id:0===t&&"string"==typeof h?e.sTableId+"_"+h:null}).append(a("<a>",{href:"#"}).html(o)).appendTo(i),e.oApi._fnBindAction(u,{action:h},P))}};f(a(i).empty().html('<ul class="pagination"/>').children("ul"),n)},a.fn.dataTableExt.oApi.fnPagingInfo=function(a){return{iStart:a._iDisplayStart,iEnd:a.fnDisplayEnd(),iLength:a._iDisplayLength,iTotal:a.fnRecordsTotal(),iFilteredTotal:a.fnRecordsDisplay(),iPage:-1===a._iDisplayLength?0:Math.ceil(a._iDisplayStart/a._iDisplayLength),iTotalPages:-1===a._iDisplayLength?0:Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength)}},a.extend(a.fn.dataTableExt.oPagination,{bootstrap_full_number:{fnInit:function(e,i,t){var n=e.oLanguage.oPaginate,l=function(a){a.preventDefault(),e.oApi._fnPageChange(e,a.data.action)&&t(e)};a(i).append('<ul class="pagination"><li class="paginate_button page-item prev disabled"><a href="#" class="page-link" title="'+n.sFirst+'"><i class="fa fa-angle-double-left"></i></a></li><li class="paginate_button page-item prev disabled"><a href="#" class="page-link" title="'+n.sPrevious+'"><i class="fa fa-angle-left"></i></a></li><li class="paginate_button page-item next disabled"><a href="#" class="page-link" title="'+n.sNext+'"><i class="fa fa-angle-right"></i></a></li><li class="paginate_button page-item next disabled"><a href="#" class="page-link" title="'+n.sLast+'"><i class="fa fa-angle-double-right"></i></a></li></ul>');var s=a("a",i);a(s[0]).bind("click.DT",{action:"first"},l),a(s[1]).bind("click.DT",{action:"previous"},l),a(s[2]).bind("click.DT",{action:"next"},l),a(s[3]).bind("click.DT",{action:"last"},l)},fnUpdate:function(e,i){var t,n,l,s,o,g=e.oInstance.fnPagingInfo(),r=e.aanFeatures.p,p=Math.floor(2.5);for(g.iTotalPages<5?(s=1,o=g.iTotalPages):g.iPage<=p?(s=1,o=5):g.iPage>=g.iTotalPages-p?(s=g.iTotalPages-5+1,o=g.iTotalPages):o=(s=g.iPage-p+1)+5-1,t=0,iLen=r.length;t<iLen;t++){for(g.iTotalPages<=0?a(".pagination",r[t]).css("visibility","hidden"):a(".pagination",r[t]).css("visibility","visible"),a("li:gt(1)",r[t]).filter(":not(.next)").remove(),n=s;n<=o;n++)l=n==g.iPage+1?'class="active paginate_button page-item"':'class="paginate_button page-item"',a("<li "+l+' ><a href="#" class="page-link">'+n+"</a></li>").insertBefore(a("li.next:first",r[t])[0]).bind("click",function(t){t.preventDefault(),e._iDisplayStart=(parseInt(a("a",this).text(),10)-1)*g.iLength,i(e)});0===g.iPage?a("li.prev",r[t]).addClass("disabled"):a("li.prev",r[t]).removeClass("disabled"),g.iPage===g.iTotalPages-1||0===g.iTotalPages?a("li.next",r[t]).addClass("disabled"):a("li.next",r[t]).removeClass("disabled")}}}}),a.extend(a.fn.dataTableExt.oPagination,{bootstrap_number:{fnInit:function(e,i,t){var n=e.oLanguage.oPaginate,l=function(a){a.preventDefault(),e.oApi._fnPageChange(e,a.data.action)&&t(e)};a(i).append('<ul class="pagination"><li class="prev disabled"><a href="#" title="'+n.sPrevious+'"><i class="fa fa-angle-left"></i></a></li><li class="next disabled"><a href="#" title="'+n.sNext+'"><i class="fa fa-angle-right"></i></a></li></ul>');var s=a("a",i);a(s[0]).bind("click.DT",{action:"previous"},l),a(s[1]).bind("click.DT",{action:"next"},l)},fnUpdate:function(e,i){var t,n,l,s,o,g=e.oInstance.fnPagingInfo(),r=e.aanFeatures.p,p=Math.floor(2.5);for(g.iTotalPages<5?(s=1,o=g.iTotalPages):g.iPage<=p?(s=1,o=5):g.iPage>=g.iTotalPages-p?(s=g.iTotalPages-5+1,o=g.iTotalPages):o=(s=g.iPage-p+1)+5-1,t=0,iLen=r.length;t<iLen;t++){for(g.iTotalPages<=0?a(".pagination",r[t]).css("visibility","hidden"):a(".pagination",r[t]).css("visibility","visible"),a("li:gt(0)",r[t]).filter(":not(.next)").remove(),n=s;n<=o;n++)l=n==g.iPage+1?'class="active"':"",a("<li "+l+'><a href="#">'+n+"</a></li>").insertBefore(a("li.next:first",r[t])[0]).bind("click",function(t){t.preventDefault(),e._iDisplayStart=(parseInt(a("a",this).text(),10)-1)*g.iLength,i(e)});0===g.iPage?a("li.prev",r[t]).addClass("disabled"):a("li.prev",r[t]).removeClass("disabled"),g.iPage===g.iTotalPages-1||0===g.iTotalPages?a("li.next",r[t]).addClass("disabled"):a("li.next",r[t]).removeClass("disabled")}}}}),a.extend(a.fn.dataTableExt.oPagination,{bootstrap_extended:{fnInit:function(e,i,t){var n=e.oLanguage.oPaginate,l=(e.oInstance.fnPagingInfo(),function(a){a.preventDefault(),e.oApi._fnPageChange(e,a.data.action)&&t(e)});a(i).append('<div class="pagination-panel"> '+(n.page?n.page:"")+' <a href="#" class="btn btn-sm default prev disabled"><i class="fa fa-angle-left"></i></a><input type="text" class="pagination-panel-input form-control input-sm input-inline input-mini" maxlenght="5" style="text-align:center; margin: 0 5px;"><a href="#" class="btn btn-sm default next disabled"><i class="fa fa-angle-right"></i></a> '+(n.pageOf?n.pageOf+' <span class="pagination-panel-total"></span>':"")+"</div>");var s=a("a",i);a(s[0]).bind("click.DT",{action:"previous"},l),a(s[1]).bind("click.DT",{action:"next"},l),a(".pagination-panel-input",i).bind("change.DT",function(i){var n=e.oInstance.fnPagingInfo();i.preventDefault();var l=parseInt(a(this).val());l>0&&l<=n.iTotalPages?e.oApi._fnPageChange(e,l-1)&&t(e):a(this).val(n.iPage+1)}),a(".pagination-panel-input",i).bind("keypress.DT",function(i){var n=e.oInstance.fnPagingInfo();if(13==i.which){var l=parseInt(a(this).val());l>0&&l<=e.oInstance.fnPagingInfo().iTotalPages?e.oApi._fnPageChange(e,l-1)&&t(e):a(this).val(n.iPage+1),i.preventDefault()}})},fnUpdate:function(e,i){var t,n,l,s,o,g=e.oInstance.fnPagingInfo(),r=e.aanFeatures.p,p=Math.floor(2.5);for(g.iTotalPages<5?(s=1,o=g.iTotalPages):g.iPage<=p?(s=1,o=5):g.iPage>=g.iTotalPages-p?(s=g.iTotalPages-5+1,o=g.iTotalPages):o=(s=g.iPage-p+1)+5-1,t=0,iLen=r.length;t<iLen;t++){var d=a(r[t]).parents(".dataTables_wrapper");for(g.iTotal<=0?a(".dataTables_paginate, .dataTables_length",d).hide():a(".dataTables_paginate, .dataTables_length",d).show(),g.iTotalPages<=0?a(".dataTables_paginate, .dataTables_length .seperator",d).hide():a(".dataTables_paginate, .dataTables_length .seperator",d).show(),a(".pagination-panel-total",r[t]).html(g.iTotalPages),a(".pagination-panel-input",r[t]).val(g.iPage+1),a("li:gt(1)",r[t]).filter(":not(.next)").remove(),n=s;n<=o;n++)l=n==g.iPage+1?'class="active"':"",a("<li "+l+'><a href="#">'+n+"</a></li>").insertBefore(a("li.next:first",r[t])[0]).bind("click",function(t){t.preventDefault(),e._iDisplayStart=(parseInt(a("a",this).text(),10)-1)*g.iLength,i(e)});0===g.iPage?a("a.prev",r[t]).addClass("disabled"):a("a.prev",r[t]).removeClass("disabled"),g.iPage===g.iTotalPages-1||0===g.iTotalPages?a("a.next",r[t]).addClass("disabled"):a("a.next",r[t]).removeClass("disabled")}}}});var e,i=abp.appPath+"Common/Scripts/Datatables/Translations/"+("zh-Hans"===(e=abp.localization.currentCulture).name||"zh-CN"===e.name?"Chinese (Simplified, China)":e.displayNameEnglish)+".json";a.ajax(i,{async:!1}).fail(function(){i=abp.appPath+"Common/Scripts/Datatables/Translations/English.json",console.log("Language is set to English for datatables, because "+abp.localization.currentCulture.displayNameEnglish+" is not found!")}).always(function(){a.extend(!0,a.fn.dataTable.defaults,{language:{url:i},lengthMenu:[5,10,25,50,100,250,500],pageLength:10,responsive:{details:{type:"column"}},searching:!1,pagingType:"bootstrap_full_number",dom:'rt<"bottom"ilp><"clear">',order:[]})})}}(jQuery);
!function(t){if(t.fn.dataTableExt){var e=function(e,n){var a=t("<li/>"),i=t("<a/>").addClass("dropdown-item").attr("href","#");return i.html("function"==typeof n.text?n.text(e):n.text),n.action&&i.click(function(a){a.preventDefault(),t(this).closest("li").hasClass("disabled")||n.action({record:e})}),n.iconStyle&&i.prepend(t('<i class="'+n.iconStyle+'"></i>')),i.appendTo(a),a},n=function(n,a,i){if(a.items&&a.items.length>1)return function(n,a){var i=t("<div/>").addClass("btn-group"),o=t("<button/>").html("function"==typeof a.text?a.text(n):a.text).addClass("btn btn-primary btn-sm dropdown-toggle").attr("data-toggle","dropdown").attr("aria-haspopup","true").attr("aria-expanded","false");a.cssClass&&o.addClass(a.cssClass);var r=t("<div/>").addClass("dropdown-menu");app.isRTL()&&r.addClass("dropdown-menu-right");for(var l=0;l<a.items.length;l++){var d=a.items[l];if(!d.visible||d.visible({record:n})){var s=e(n,d);d.enabled&&!d.enabled({record:n})&&s.addClass("disabled"),s.appendTo(r)}}return r.find("li").length>0&&(o.appendTo(i),r.appendTo(i)),0===r.children().length?"":i}(n,a);if(a.element){var o=function(e,n){if(t(n.element).data(e),void 0===n.visible)return n.element;if("function"==typeof n.visible){if(n.visible({record:e}))return n.element}else if(n.visible)return n.element;return""}(n,a);if(""!=o)return o.clone(!0)}return""},a=function(t,e,n){""==t&&function(t,e){t.fnSetColumnVis(e,!1,!1)}(e,n)},i=function(e,i,o,r,l){var d;if(d=e.aoColumns?e.aoColumns:e.fnSettings().aoColumns)for(var s=t(i).children("td"),f=0;f<d.length;f++){var c=d[f];if(c.rowAction){var u=n(o,c.rowAction);a(u,e,f),0===t(s[f]).find(".action-button").length&&(t(s[f]).empty(),t(s[f]).append(u))}}},o=t.fn.dataTableExt.oApi.renderRowActions;if(t.fn.dataTableExt.oApi.renderRowActions=function(t,e,n,a,r){o&&o(t,e,n,a,r),i(t,e,n)},t.fn.dataTable){var r=t.fn.dataTable.defaults.fnRowCallback;t.extend(!0,t.fn.dataTable.defaults,{fnRowCallback:function(t,e,n,a){r&&r(this,t,e,n,a),i(this,t,e)}})}}}(jQuery);
var app=app||{};!function(){var t=abp.localization.getSource("Ranking");app.localize=function(){return t.apply(this,arguments)},app.downloadTempFile=function(t){location.href=abp.appPath+"File/DownloadTempFile?fileType="+t.fileType+"&fileToken="+t.fileToken+"&fileName="+t.fileName},app.createDateRangePickerOptions=function(t){t=t||{allowFutureDate:!1};var e={locale:{format:"L",applyLabel:app.localize("Apply"),cancelLabel:app.localize("Cancel"),customRangeLabel:app.localize("CustomRange")},min:moment("2015-05-01"),minDate:moment("2015-05-01"),opens:"left",ranges:{}};return t.allowFutureDate||(e.max=moment(),e.maxDate=moment()),e.ranges[app.localize("Today")]=[moment().startOf("day"),moment().endOf("day")],e.ranges[app.localize("Yesterday")]=[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],e.ranges[app.localize("Last7Days")]=[moment().subtract(6,"days").startOf("day"),moment().endOf("day")],e.ranges[app.localize("Last30Days")]=[moment().subtract(29,"days").startOf("day"),moment().endOf("day")],e.ranges[app.localize("ThisMonth")]=[moment().startOf("month"),moment().endOf("month")],e.ranges[app.localize("LastMonth")]=[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],e},app.getUserProfilePicturePath=function(t){return t?abp.appPath+"Profile/GetProfilePictureById?id="+t:abp.appPath+"Common/Images/default-profile-picture.png"},app.getUserProfilePicturePath=function(){return abp.appPath+"Profile/GetProfilePicture?v="+(new Date).valueOf()},app.getShownLinkedUserName=function(t){return abp.multiTenancy.isEnabled?t.tenancyName?t.tenancyName+"\\"+t.username:".\\"+t.username:t.username},app.notification=app.notification||{},app.notification.getUiIconBySeverity=function(t){switch(t){case abp.notifications.severity.SUCCESS:return"fas fa-check-circle";case abp.notifications.severity.WARN:return"fas fa-exclamation-triangle";case abp.notifications.severity.ERROR:return"fas fa-exclamation-circle";case abp.notifications.severity.FATAL:return"fas fa-bomb";case abp.notifications.severity.INFO:default:return"fas fa-info-circle"}},app.notification.getIconFontClassBySeverity=function(t){switch(t){case abp.notifications.severity.SUCCESS:return" text-success";case abp.notifications.severity.WARN:return" text-warning";case abp.notifications.severity.ERROR:case abp.notifications.severity.FATAL:return" text-danger";case abp.notifications.severity.INFO:default:return" text-info"}},app.changeNotifyPosition=function(t){toastr&&(toastr.clear(),toastr.options.positionClass=t)},app.waitUntilElementIsReady=function(t,e,a){if($){var n=t.split(",").length;a||(a=100);var i=setInterval(function(){$(t).length>=n&&(clearInterval(i),e())},a)}},app.calculateTimeDifference=function(t,e,a){if(!moment)return null;var n=moment(t);return moment(e).diff(n,a)},app.htmlUtils={htmlEncodeText:function(t){return $("<div/>").text(t).html()},htmlDecodeText:function(t){return $("<div/>").html(t).text()},htmlEncodeJson:function(t){return JSON.parse(app.htmlUtils.htmlEncodeText(JSON.stringify(t)))},htmlDecodeJson:function(t){return JSON.parse(app.htmlUtils.htmlDecodeText(JSON.stringify(t)))}},app.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},app.isRTL=function(){return"rtl"===document.documentElement.getAttribute("dir")||"rtl"===document.documentElement.getAttribute("direction")}}();
!function(t){t&&(t.fn.buttonBusy=function(a){return t(this).each(function(){var s=t(this),n=s.find("i"),i=s.find("span");if(a){if(s.hasClass("button-busy"))return;s.attr("disabled","disabled"),n.length&&(s.data("iconOriginalClasses",n.attr("class")),n.removeClass(),n.addClass("fa fa-spin fa-spinner")),i.length&&s.attr("busy-text")&&(s.data("buttonOriginalText",i.html()),i.html(s.attr("busy-text"))),s.addClass("button-busy")}else{if(!s.hasClass("button-busy"))return;s.removeAttr("disabled"),n.length&&s.data("iconOriginalClasses")&&(n.removeClass(),n.addClass(s.data("iconOriginalClasses"))),i.length&&s.data("buttonOriginalText")&&i.html(s.data("buttonOriginalText")),s.removeClass("button-busy")}})},t.fn.serializeFormToObject=function(){var a=t(this),s=a.find("[disabled]");s.prop("disabled",!1);var n=a.serializeJSON();return s.prop("disabled",!0),n})}(jQuery);
!function(e){e.validator.setDefaults({errorElement:"div",errorClass:"invalid-feedback",focusInvalid:!1,submitOnKeyPress:!0,ignore:":hidden",highlight:function(t){e(t).closest(".form-group").find("input:eq(0)").addClass("is-invalid")},unhighlight:function(t){e(t).closest(".form-group").find("input:eq(0)").removeClass("is-invalid")},errorPlacement:function(e,t){1===t.closest(".input-icon").length?e.insertAfter(t.closest(".input-icon")):e.insertAfter(t)},success:function(e){e.closest(".form-group").removeClass("has-danger"),e.remove()},submitHandler:function(t){e(t).find(".alert-danger").hide()}}),e.validator.addMethod("email",function(e,t){return/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)},"Please enter a valid Email."),e.validator.addMethod("text",function(t,n){return new RegExp(e(n).attr("pattern")).test(t)},"Please enter a well formatted value.")}(jQuery);
abp.clock.provider.supportsMultipleTimezone&&window.moment&&moment.tz.setDefault(abp.timing.timeZoneInfo.iana.timeZoneId),abp.libs.sweetAlert&&(abp.libs.sweetAlert.config.info.button=app.localize("Ok"),abp.libs.sweetAlert.config.success.button=app.localize("Ok"),abp.libs.sweetAlert.config.warn.button=app.localize("Ok"),abp.libs.sweetAlert.config.error.button=app.localize("Ok"),abp.libs.sweetAlert.config.confirm.buttons=[app.localize("Cancel"),app.localize("Yes")]);
var app=app||{};app.localStorage=app.localStorage||{},app.localStorage.setItem=function(a,t){localStorage&&localStorage.setItem(a,JSON.stringify(t))},app.localStorage.getItem=function(a,t){if(!localStorage)return null;var e=localStorage.getItem(a);if(!t)return e;t(e)};
var app=app||{};app.localStorage=app.localStorage||{},app.localStorage.setItem=function(a,o){localforage&&localforage.setItem(a,o)},app.localStorage.getItem=function(a,o){localforage&&o&&localforage.getItem(a).then(function(a){o(a)})};
var app=app||{};!function(o){app.modals=app.modals||{},app.ModalManager=function(){function n(n){var e=o("#"+(n+"Container"));e.length&&e.remove()}function e(e,a){return n(e),o('<div id="'+(e+"Container")+'"></div>').append('<div id="'+e+'" class="modal fade" tabindex="-1" role="modal" aria-hidden="true" style="z-index:'+(1050+2*o(".modal.fade.show").length)+'">  <div class="modal-dialog '+a+'">    <div class="modal-content"></div>  </div></div>').appendTo("body")}return function(a){!function(o){o.modalId||(o.modalId="Modal_"+Math.floor(1e6*Math.random())+(new Date).getTime()),null===o.modalSize?o.modalSize="":o.modalSize?o.modalSize=o.modalSize:o.modalSize="modal-lg"}(a);var t=a,l=null,d=a.modalId,i="#"+d,r=null,u=a.modalSize,s=null,c=null,f=null,p=null,m=[],v=[];function b(){r&&r.save&&r.save()}function h(){(l=o(i)).modal({backdrop:"static"}),l.on("hidden.bs.modal",function(){for(var o=0;o<v.length;o++)v[o]();n(d);for(o=0;o<m.length;o++)m[o]();"boolean"==typeof t.removeAllOnCloseBindsAfterModalClose&&t.removeAllOnCloseBindsAfterModalClose&&(m=[],v=[])}),l.on("shown.bs.modal",function(){l.find("input:not([type=hidden]):first").focus(),p&&p(l)});var e,u,f=app.modals[a.modalClass];f&&(r=new f).init&&r.init(s,c),l.find(".save-button").click(function(){b()}),l.find(".modal-body").keydown(function(o){13===o.which&&("textarea"===o.target.tagName.toLocaleLowerCase()?o.stopPropagation():(o.preventDefault(),b()))}),l.modal("show"),e=parseInt(o(i).css("z-index"))-1,u=o(".modal-backdrop.fade.show"),o(u[u.length-1]).css("z-index",e)}var g=function(n,t,l){c=n||{},f=t,p=l,abp.ui.setBusy(o("body")),e(d,u).find(".modal-content").load(a.viewUrl,c,function(n,e,t){"error"!=e?(a.scriptUrl?app.ResourceLoader.loadScript(a.scriptUrl,function(){h()}):h(),abp.ui.clearBusy(o("body"))):abp.message.warn(abp.localization.abpWeb("InternalServerError"))})};return s={open:g,reopen:function(){g(c)},close:function(){l&&l.modal("hide")},getModalId:function(){return d},getModal:function(){return l},getArgs:function(){return c},getOptions:function(){return t},setBusy:function(o){l&&(l.find(".modal-footer button").buttonBusy(o),l.find(".modal-header button.close").buttonBusy(o))},setResult:function(){f&&f.apply(s,arguments)},onClose:function(o){m.push(o)},getModalObject:function(){return r},onBeforeClose:function(o){v.push(o)}}}}()}(jQuery);
app.PasswordComplexityHelper=function(){function e(e,r){if(!e||e.charAt(0)===e.charAt(0).toLowerCase())return r;this[e.charAt(0).toLowerCase()+e.slice(1)]=r}return{setPasswordComplexityRules:function(r,i){if(r&&(i=JSON.parse(JSON.stringify(i),e))){var t=function(e){var r="<ul style='display: inline-block;'>";return e.requireDigit&&(r+="<li>"+app.localize("PasswordComplexity_RequireDigit_Hint")+"</li>"),e.requireLowercase&&(r+="<li>"+app.localize("PasswordComplexity_RequireLowercase_Hint")+"</li>"),e.requireNonAlphanumeric&&(r+="<li>"+app.localize("PasswordComplexity_RequireNonAlphanumeric_Hint")+"</li>"),e.useLowerCaseLetters&&(r+="<li>"+app.localize("PasswordComplexity_UseLowerCaseLetters_Hint")+"</li>"),e.requireUppercase&&(r+="<li>"+app.localize("PasswordComplexity_RequireUppercase_Hint")+"</li>"),e.requiredLength>0&&(r+="<li>"+abp.utils.formatString(app.localize("PasswordComplexity_RequiredLength_Hint"),e.requiredLength)+"</li>"),r+"</ul>"}(i);jQuery.validator.addMethod("passwordComplexity",function(e,r){return!((r.hasAttribute("required")||""!==e)&&(i.requireDigit&&!/[0-9]/.test(e)||i.requireLowercase&&!/[a-z]/.test(e)||i.requireUppercase&&!/[A-Z]/.test(e)||i.requiredLength&&e.length<i.requiredLength||i.requireNonAlphanumeric&&/^[0-9a-zA-Z]+$/.test(e)))},t);for(var a=0;a<r.length;a++)$(r[a]).rules("add","passwordComplexity")}}}};
var app=app||{};!function(a){var t,l={LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED"};function s(){this.state=l.LOADING,this.loadCallbacks=[],this.failCallbacks=[]}s.prototype.succeed=function(){this.state=l.LOADED;for(var a=0;a<this.loadCallbacks.length;a++)this.loadCallbacks[a]()},s.prototype.failed=function(){this.state=l.FAILED;for(var a=0;a<this.failCallbacks.length;a++)this.failCallbacks[a]()},s.prototype.handleCallbacks=function(a,t){switch(this.state){case l.LOADED:a&&a();break;case l.FAILED:t&&t();break;case l.LOADING:this.addCallbacks(a,t)}},s.prototype.addCallbacks=function(a,t){a&&this.loadCallbacks.push(a),t&&this.failCallbacks.push(t)},app.ResourceLoader=(t={},{loadScript:function(l,c,i){var e=t[l];e?e.handleCallbacks(c,i):(t[l]=e=new s,e.addCallbacks(c,i),a.getScript(l).done(function(a,t){e.succeed()}).fail(function(a,t,l){e.failed()}))}})}(jQuery);
var app=app||{};app.utils=app.utils||{},app.utils.string={truncate:function(t,n,e){return!t||!n||t.length<=n?t:!1===e?t.substr(0,n):t.substr(0,n-1)+"&#133;"}},app.utils.date={containsTime:function(t){return!!t&&-1!==t.indexOf(":")},getEndOfDay:function(t){return t&&moment?moment(t).endOf("day"):null},getEndOfDayIfTimeNotExists:function(t){return this.containsTime(t)?t:this.getEndOfDay(t)},formatAsLongDateTime:function(t){return moment(t).format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")}};