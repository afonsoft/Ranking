$(function(){var e,a=$("#DynamicPropertiesTable"),t=abp.services.app.dynamicProperty,i=!1,n={edit:abp.auth.hasPermission("Pages.Administration.DynamicProperties.Edit"),delete:abp.auth.hasPermission("Pages.Administration.DynamicProperties.Delete"),dynamicPropertyValue_edit:abp.auth.hasPermission("Pages.Administration.DynamicPropertyValue.Edit")},r=new app.ModalManager({viewUrl:abp.appPath+"App/DynamicProperty/CreateOrEditModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/DynamicProperties/_CreateOrEditModal.js",modalClass:"CreateOrEditDynamicPropertyModal",cssClass:"scrollable-modal"}),s=new app.ModalManager({viewUrl:abp.appPath+"App/DynamicProperty/ManageValuesModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/_Bundles/dynamic-properties-manage-values.min.js",modalClass:"ManageDynamicPropertyValueModal",cssClass:"scrollable-modal"});function o(){i&&e.ajax.reload()}$("#CreateNewDynamicProperty").click(function(){r.open()}),$("#GetDynamicPropertiesButton").click(function(e){e.preventDefault(),o()}),abp.event.on("app.createOrEditDynamicPropertyModalSaved",function(){o()}),i||(i=!0,e=a.DataTable({paging:!1,serverSide:!1,processing:!1,listAction:{ajaxFunction:t.getAll},columnDefs:[{className:"control responsive",orderable:!1,render:function(){return""},targets:0},{targets:1,data:null,orderable:!1,autoWidth:!1,defaultContent:"",rowAction:{text:'<i class="fa fa-cog"></i> <span class="d-none d-md-inline-block d-lg-inline-block d-xl-inline-block">'+app.localize("Actions")+'</span> <span class="caret"></span>',items:[{text:app.localize("Edit"),visible:function(e){return n.edit},action:function(e){r.open({id:e.record.id})}},{text:app.localize("Delete"),visible:function(e){return n.delete},action:function(e){var a;a=e.record.id,abp.message.confirm(app.localize("DeleteDynamicPropertyMessage"),app.localize("AreYouSure"),function(e){e&&(abp.ui.setBusy(),t.delete(a).done(function(){o(),abp.notify.success(app.localize("SuccessfullyDeleted"))}).always(function(){abp.ui.clearBusy()}))})}},{text:app.localize("EditValues"),visible:function(e){var a=abp.inputTypeProviders.getInputTypeInstance(e.record.inputType);return n.dynamicPropertyValue_edit&&a.hasValues},action:function(e){s.open({id:e.record.id})}}]}},{targets:2,data:"propertyName"},{targets:3,data:"displayName"},{targets:4,data:"inputType"},{targets:5,data:"permission"}]}))});