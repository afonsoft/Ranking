app.modals.CreateOrEditDynamicPropertyModal=function(){var e,a=abp.services.app.dynamicProperty,i=app.modals.PermissionTreeModal.create({singleSelect:!0,onSelectionDone:function(a){a&&a.length>0&&e.getModal().find("input[name=permission]").val(a[0])}});this.init=function(a){e=a},this.save=function(){var i={id:e.getModal().find("input[name=Id]").val(),propertyName:e.getModal().find("input[name=propertyName]").val(),displayName:e.getModal().find("input[name=displayName]").val(),permission:e.getModal().find("input[name=permission]").val(),inputType:e.getModal().find("select[name=inputType]").val()};""!==i.propertyName.trim()?(e.setBusy(!0),i.id?a.update(i).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close(),abp.event.trigger("app.createOrEditDynamicPropertyModalSaved")}).always(function(){e.setBusy(!1)}):a.add(i).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close(),abp.event.trigger("app.createOrEditDynamicPropertyModalSaved")}).always(function(){e.setBusy(!1)})):abp.notify.success(app.localize("XCanNotBeNullOrEmpty",app.localize("PropertyName")))},$("#FilterByPermissionsButton").click(function(){i.open({grantedPermissionNames:[]})})};