var EditTenantModal=function(e){app.modals.EditTenantModal=function(){var i,n=abp.services.app.tenant,t=null;this.init=function(n){var a=(i=n).getModal();(t=a.find("form[name=TenantInformationsForm]")).validate(),a.find(".date-time-picker").datetimepicker({locale:abp.localization.currentLanguage.name,format:"L"});var s=a.find("input[name=SubscriptionEndDateUtc]").parent("div"),d=a.find("#CreateTenant_IsUnlimited");function o(){d.is(":checked")?s.slideUp("fast"):s.slideDown("fast")}var c=a.find("#EditTenant_IsInTrialPeriod").closest("div"),r=a.find("#EditTenant_IsInTrialPeriod");function l(){d.is(":checked")?(c.slideUp("fast"),r.prop("checked",!1)):c.slideDown("fast")}d.change(function(){o(),l()});var f=a.find("#EditionId"),p=a.find("#EditTenant_IsInTrialPeriod");f.change(function(){var i="True"===e("option:selected",this).attr("data-isfree"),n=e("option:selected",this).val();i?p.closest("div").slideUp("fast"):p.closest("div").slideDown("fast"),n<=0?(a.find(".subscription-component").slideUp("fast"),d.is(":checked")||s.slideDown("fast")):a.find(".subscription-component").slideDown("fast")}),f.trigger("change"),o(),l()},this.save=function(){if(t.valid()){var a=t.serializeFormToObject();e("#CreateTenant_IsUnlimited").is(":visible")&&!e("#CreateTenant_IsUnlimited").is(":checked")?a.SubscriptionEndDateUtc=e(".date-time-picker").data("DateTimePicker").date().format("YYYY-MM-DDTHH:mm:ss")+"Z":a.SubscriptionEndDateUtc=null,e("#CreateTenant_IsUnlimited").is(":checked")&&(a.IsInTrialPeriod=!1),i.setBusy(!0),n.updateTenant(a).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),i.close(),abp.event.trigger("app.editTenantModalSaved")}).always(function(){i.setBusy(!1)})}}}}(jQuery);