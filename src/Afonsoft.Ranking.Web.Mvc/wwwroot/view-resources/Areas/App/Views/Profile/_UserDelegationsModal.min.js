!function(e){app.modals.UserDelegationsModal=function(){var a=e("#DelegatedUsersTable"),t=abp.services.app.userDelegation;this.init=function(e){e};var n=new app.ModalManager({viewUrl:abp.appPath+"App/Profile/CreateNewUserDelegationModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Profile/_CreateNewUserDelegationModal.js",modalClass:"CreateNewUserDelegationModal"});e("#DelegateNewUserButton").click(function(){n.open({},function(){o()})});var r=a.DataTable({paging:!0,serverSide:!0,processing:!0,listAction:{ajaxFunction:t.getDelegatedUsers},columnDefs:[{targets:0,data:"username",orderable:!1,render:function(a,t,n,r){return e("<div/>").append(e("<span/>").text(a))[0].outerHTML}},{targets:1,data:"startTime",orderable:!1,render:function(e,a,t,n){return moment(e).format("YYYY-MM-DD HH:mm:ss")}},{targets:2,data:"endTime",orderable:!1,render:function(e,a,t,n){return moment(e).format("YYYY-MM-DD HH:mm:ss")}},{targets:3,data:null,orderable:!1,defaultContent:"",rowAction:{element:e("<button/>").addClass("btn btn-outline-danger btn-sm btn-icon").attr("title",app.localize("Delete")).append(e("<i/>").addClass("la la-trash")).click(function(){var a;a=e(this).data(),abp.message.confirm(app.localize("UserDelegationDeleteWarningMessage",a.username),app.localize("AreYouSure"),function(e){e&&t.removeDelegation({id:a.id}).done(function(){o(),abp.notify.success(app.localize("SuccessfullyDeleted"))})})})}}]});function o(){r.ajax.reload()}}}(jQuery);