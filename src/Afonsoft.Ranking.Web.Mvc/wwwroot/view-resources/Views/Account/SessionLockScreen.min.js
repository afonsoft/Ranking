var CurrentPage={init:function(){!function(){var e,t=$("#session-lock-screen-login-form");function a(){function e(e){e=e||function(){},abp.setting.getBoolean("App.UserManagement.UseCaptchaOnLogin")?grecaptcha.reExecute(function(t){$("#recaptchaResponse").val(t),e()}):e()}t.valid()&&e(function(){abp.ui.setBusy(null,abp.ajax({contentType:app.consts.contentTypes.formUrlencoded,url:t.attr("action"),data:t.serialize(),abpHandleError:!1}).fail(function(t){e(),abp.ajax.showError(t)}))})}$("#session-lock-screen-submit-button").click(function(){a()}),t.validate({rules:{username:{required:!0},password:{required:!0}}}),t.find("input").keypress(function(e){13===e.which&&a()}),$("input[name=password]").focus(),(e=JSON.parse(abp.utils.getCookieValue("userInfo")))||window.location.replace(abp.appPath+"Account/Logout"),$("input[name=usernameOrEmailAddress]").val(e.userName),$("#userName").text(e.userName),$("#tenantName").text(e.tenant?e.tenant:"Host"),abp.services.app.profile.getProfilePictureByUserName(e.userName).done(function(e){e.profilePicture?$("#profilePicture").attr("src","data:image/png;base64, "+e.profilePicture):$("#profilePicture").attr("src","/Profile/GetDefaultProfilePicture")}).fail(function(){$("#profilePicture").attr("src","/Profile/GetDefaultProfilePicture")})}()}};