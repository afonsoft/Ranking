"use strict";var KTToggle=function(t,e,g){var n=this,r=t,a=e;if(r){var o={targetToggleMode:"class"},l={construct:function(t){return KTUtil.data(r).has("toggle")?n=KTUtil.data(r).get("toggle"):(l.init(t),l.build(),KTUtil.data(r).set("toggle",n)),n},init:function(t){n.element=r,n.events=[],n.options=KTUtil.deepExtend({},o,t),n.target=a,n.targetState=n.options.targetState,n.toggleState=n.options.toggleState,"class"==n.options.targetToggleMode?n.state=KTUtil.hasClasses(n.target,n.targetState)?"on":"off":n.state=KTUtil.hasAttr(n.target,"data-"+n.targetState)?KTUtil.attr(n.target,"data-"+n.targetState):"off"},build:function(){KTUtil.addEvent(r,"mouseup",l.toggle)},toggle:function(t){return l.eventTrigger("beforeToggle"),"off"==n.state?l.toggleOn():l.toggleOff(),l.eventTrigger("afterToggle"),t.preventDefault(),n},toggleOn:function(){return l.eventTrigger("beforeOn"),"class"==n.options.targetToggleMode?KTUtil.addClass(n.target,n.targetState):KTUtil.attr(n.target,"data-"+n.targetState,"on"),n.toggleState&&KTUtil.addClass(r,n.toggleState),n.state="on",l.eventTrigger("afterOn"),l.eventTrigger("toggle"),n},toggleOff:function(){return l.eventTrigger("beforeOff"),"class"==n.options.targetToggleMode?KTUtil.removeClass(n.target,n.targetState):KTUtil.removeAttr(n.target,"data-"+n.targetState),n.toggleState&&KTUtil.removeClass(r,n.toggleState),n.state="off",l.eventTrigger("afterOff"),l.eventTrigger("toggle"),n},eventTrigger:function(t){for(var e=0;e<n.events.length;e++){var g=n.events[e];if(g.name==t){if(1!=g.one)return g.handler.call(this,n);if(0==g.fired)return n.events[e].fired=!0,g.handler.call(this,n)}}},addEvent:function(t,e,g){return n.events.push({name:t,handler:e,one:g,fired:!1}),n}};return n.setDefaults=function(t){o=t},n.getState=function(){return n.state},n.toggle=function(){return l.toggle()},n.toggleOn=function(){return l.toggleOn()},n.toggleOff=function(){return l.toggleOff()},n.on=function(t,e){return l.addEvent(t,e)},n.one=function(t,e){return l.addEvent(t,e,!0)},l.construct.apply(n,[g]),n}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTToggle);