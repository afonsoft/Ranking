"use strict";var KTLayoutSearch=function(){var t,e,i,n,a,l,o,r,s="",d=!1,u=!1,c=!1,T="quick-search-has-result",p=function(){c=!1,KTUtil.removeClass(r,"spinner spinner-sm spinner-primary"),n&&(i.value.length<2?KTUtil.hide(n):KTUtil.show(n,"flex"))},K=function(){o&&!KTUtil.hasClass(l,"show")&&($(o).dropdown("toggle"),$(o).dropdown("update"))},U=function(){o&&KTUtil.hasClass(l,"show")&&$(o).dropdown("toggle")},f=function(){if(d&&s===i.value)return p(),KTUtil.addClass(t,T),K(),void KTUtil.scrollUpdate(a);s=i.value,KTUtil.removeClass(t,T),c=!0,KTUtil.addClass(r,"spinner spinner-sm spinner-primary"),n&&KTUtil.hide(n),U(),setTimeout(function(){$.ajax({url:HOST_URL+"/api/quick_search.php",data:{query:s},dataType:"html",success:function(e){d=!0,p(),KTUtil.addClass(t,T),KTUtil.setHTML(a,e),K(),KTUtil.scrollUpdate(a)},error:function(e){d=!1,p(),KTUtil.addClass(t,T),KTUtil.setHTML(a,'<span class="font-weight-bold text-muted">Connection error. Please try again later..</div>'),K(),KTUtil.scrollUpdate(a)}})},1e3)},h=function(e){i.value="",s="",d=!1,KTUtil.hide(n),KTUtil.removeClass(t,T),U()},v=function(){if(i.value.length<2)return p(),void U();1!=c&&(u&&clearTimeout(u),u=setTimeout(function(){f()},200))};return{init:function(s){(t=KTUtil.getById(s))&&(e=KTUtil.find(t,".quick-search-form"),i=KTUtil.find(t,".form-control"),n=KTUtil.find(t,".quick-search-close"),a=KTUtil.find(t,".quick-search-wrapper"),l=KTUtil.find(t,".dropdown-menu"),o=KTUtil.find(t,'[data-toggle="dropdown"]'),KTUtil.find(t,".input-group"),r=KTUtil.find(t,".input-group .input-group-append"),KTUtil.addEvent(i,"keyup",v),KTUtil.addEvent(i,"focus",v),e.onkeypress=function(t){13==(t.charCode||t.keyCode||0)&&t.preventDefault()},KTUtil.addEvent(n,"click",h))}}};"undefined"!=typeof module&&(module.exports=KTLayoutSearch);var KTLayoutSearchInline=KTLayoutSearch,KTLayoutSearchOffcanvas=KTLayoutSearch;